# vim:filetype=sh
#
# es_show_func: decrypt and show cached script file
#
function es_show_func() {
  local marker="$(_ES_marker GET_SCRIPT_PW)"
  local funcname=$1
  local f=$_ES_FCN_PREFIX$funcname
  if [ ! -f $f ]; then
    echo "Cached function file does not exist: $f"
    return
  fi
  _ES_send_marker "$marker" $funcname
  openssl enc -d -a -aes256 -in $f|gzip -d -c
}
export -f es_show_func
